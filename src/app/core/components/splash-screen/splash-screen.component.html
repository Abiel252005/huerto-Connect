<div class="splash-screen" [class.fade-out]="isFadingOut" [class.hidden]="isHidden">
    <!-- Scan lines overlay -->
    <div class="scanlines"></div>

    <!-- Animated grid background -->
    <div class="grid-bg"></div>

    <!-- Floating tech particles -->
    <div class="tech-particles">
        <span class="t-particle tp1"></span>
        <span class="t-particle tp2"></span>
        <span class="t-particle tp3"></span>
        <span class="t-particle tp4"></span>
        <span class="t-particle tp5"></span>
        <span class="t-particle tp6"></span>
        <span class="t-particle tp7"></span>
        <span class="t-particle tp8"></span>
        <span class="t-particle tp9"></span>
        <span class="t-particle tp10"></span>
        <span class="t-particle tp11"></span>
        <span class="t-particle tp12"></span>
    </div>

    <!-- Pulse rings behind the sprout -->
    <div class="pulse-rings">
        <div class="ring ring-1"></div>
        <div class="ring ring-2"></div>
        <div class="ring ring-3"></div>
    </div>

    <!-- Main animation container -->
    <div class="animation-container">

        <!-- SVG Sprout Animation -->
        <div class="sprout-wrapper">
            <!-- Hex glow behind -->
            <div class="hex-glow"></div>

            <svg viewBox="0 0 200 320" xmlns="http://www.w3.org/2000/svg" class="sprout-svg">
                <defs>
                    <filter id="neonGlow" x="-50%" y="-50%" width="200%" height="200%">
                        <feGaussianBlur stdDeviation="3" result="blur1" />
                        <feGaussianBlur stdDeviation="8" result="blur2" />
                        <feMerge>
                            <feMergeNode in="blur2" />
                            <feMergeNode in="blur1" />
                            <feMergeNode in="SourceGraphic" />
                        </feMerge>
                    </filter>

                    <filter id="softGlow" x="-30%" y="-30%" width="160%" height="160%">
                        <feGaussianBlur stdDeviation="2" result="glow" />
                        <feMerge>
                            <feMergeNode in="glow" />
                            <feMergeNode in="SourceGraphic" />
                        </feMerge>
                    </filter>

                    <linearGradient id="stemGrad" x1="0%" y1="100%" x2="0%" y2="0%">
                        <stop offset="0%" stop-color="#0C3B2E" />
                        <stop offset="30%" stop-color="#1a6b4a" />
                        <stop offset="70%" stop-color="#2ECC71" />
                        <stop offset="100%" stop-color="#00D4A1" />
                    </linearGradient>

                    <linearGradient id="leafGradL" x1="100%" y1="100%" x2="0%" y2="0%">
                        <stop offset="0%" stop-color="#1a6b4a" />
                        <stop offset="40%" stop-color="#2ECC71" />
                        <stop offset="100%" stop-color="#00D4A1" />
                    </linearGradient>

                    <linearGradient id="leafGradR" x1="0%" y1="100%" x2="100%" y2="0%">
                        <stop offset="0%" stop-color="#2ECC71" />
                        <stop offset="60%" stop-color="#00D4A1" />
                        <stop offset="100%" stop-color="#55efc4" />
                    </linearGradient>

                    <radialGradient id="soilGrad" cx="50%" cy="40%" r="60%">
                        <stop offset="0%" stop-color="#5D4037" />
                        <stop offset="100%" stop-color="#3E2723" />
                    </radialGradient>

                    <radialGradient id="seedGrad" cx="35%" cy="35%" r="65%">
                        <stop offset="0%" stop-color="#A1887F" />
                        <stop offset="50%" stop-color="#795548" />
                        <stop offset="100%" stop-color="#4E342E" />
                    </radialGradient>

                    <!-- Circuit pattern for tech feel -->
                    <pattern id="circuitPattern" x="0" y="0" width="40" height="40" patternUnits="userSpaceOnUse">
                        <path d="M0,20 L15,20 M25,20 L40,20 M20,0 L20,15 M20,25 L20,40" stroke="rgba(0,212,161,0.08)"
                            stroke-width="0.5" fill="none" />
                        <circle cx="20" cy="20" r="2" fill="rgba(0,212,161,0.05)" />
                    </pattern>
                </defs>

                <!-- Tech circuit background (subtle) -->
                <rect x="0" y="0" width="200" height="320" fill="url(#circuitPattern)" class="circuit-bg" />

                <!-- Soil mound -->
                <g class="soil-group">
                    <ellipse cx="100" cy="250" rx="65" ry="16" fill="url(#soilGrad)" />
                    <ellipse cx="88" cy="247" rx="28" ry="5" fill="rgba(255,255,255,0.04)" />
                </g>

                <!-- Seed -->
                <g class="seed-group">
                    <ellipse class="seed-left" cx="95" cy="245" rx="11" ry="8" fill="url(#seedGrad)" stroke="#5D4037"
                        stroke-width="0.5" />
                    <ellipse class="seed-right" cx="105" cy="245" rx="11" ry="8" fill="url(#seedGrad)" stroke="#5D4037"
                        stroke-width="0.5" />
                </g>

                <!-- Main stem with neon glow -->
                <path class="stem" d="M100,245 C100,228 98,210 100,190 C102,170 99,155 100,130" stroke="url(#stemGrad)"
                    stroke-width="4.5" fill="none" stroke-linecap="round" filter="url(#neonGlow)" />

                <!-- Energy lines along stem -->
                <path class="energy-line el1" d="M100,245 C100,228 98,210 100,190" stroke="#55efc4" stroke-width="1"
                    fill="none" stroke-linecap="round" opacity="0.6" />
                <path class="energy-line el2" d="M100,190 C102,170 99,155 100,130" stroke="#55efc4" stroke-width="1"
                    fill="none" stroke-linecap="round" opacity="0.6" />

                <!-- LEFT LEAF -->
                <g class="leaf-group leaf-left" filter="url(#neonGlow)">
                    <path class="leaf-shape" d="M100,175 C90,170 60,155 45,140 C35,130 30,115 40,108
               C50,100 65,110 75,125 C85,140 95,160 100,175Z" fill="url(#leafGradL)" />
                    <path class="leaf-vein" d="M100,175 C88,162 65,140 45,125" stroke="rgba(255,255,255,0.3)"
                        stroke-width="1" fill="none" stroke-linecap="round" />
                    <path class="leaf-vein-side" d="M80,158 C72,150 62,148" stroke="rgba(255,255,255,0.18)"
                        stroke-width="0.7" fill="none" />
                    <path class="leaf-vein-side" d="M68,143 C62,136 54,133" stroke="rgba(255,255,255,0.12)"
                        stroke-width="0.6" fill="none" />
                </g>

                <!-- RIGHT LEAF -->
                <g class="leaf-group leaf-right" filter="url(#neonGlow)">
                    <path class="leaf-shape" d="M100,155 C110,148 135,130 152,118 C162,110 168,98 160,90
               C150,82 137,92 127,105 C117,120 105,140 100,155Z" fill="url(#leafGradR)" />
                    <path class="leaf-vein" d="M100,155 C115,140 138,118 155,105" stroke="rgba(255,255,255,0.3)"
                        stroke-width="1" fill="none" stroke-linecap="round" />
                    <path class="leaf-vein-side" d="M122,136 C130,128 140,126" stroke="rgba(255,255,255,0.18)"
                        stroke-width="0.7" fill="none" />
                </g>

                <!-- TOP BUD -->
                <g class="leaf-group leaf-top" filter="url(#neonGlow)">
                    <path class="leaf-shape" d="M100,130 C96,118 92,100 95,85 C98,75 102,75 105,85
               C108,100 104,118 100,130Z" fill="#00D4A1" />
                    <path class="leaf-vein" d="M100,128 C100,112 100,98 100,87" stroke="rgba(255,255,255,0.2)"
                        stroke-width="0.7" fill="none" />
                </g>

                <!-- Sparkle particles -->
                <circle class="sparkle s1" cx="38" cy="103" r="2" fill="#00D4A1" />
                <circle class="sparkle s2" cx="162" cy="86" r="1.8" fill="#55efc4" />
                <circle class="sparkle s3" cx="52" cy="82" r="1.5" fill="#2ECC71" />
                <circle class="sparkle s4" cx="150" cy="112" r="2" fill="#00D4A1" />
                <circle class="sparkle s5" cx="93" cy="76" r="1.3" fill="#55efc4" />
                <circle class="sparkle s6" cx="112" cy="72" r="1.6" fill="#2ECC71" />
                <circle class="sparkle s7" cx="70" cy="95" r="1.2" fill="#00D4A1" />
                <circle class="sparkle s8" cx="135" cy="100" r="1.4" fill="#55efc4" />

                <!-- Data flow dots moving up the stem -->
                <circle class="data-dot dd1" cx="100" cy="245" r="2" fill="#00D4A1" filter="url(#softGlow)" />
                <circle class="data-dot dd2" cx="100" cy="245" r="1.5" fill="#55efc4" filter="url(#softGlow)" />
                <circle class="data-dot dd3" cx="100" cy="245" r="1.8" fill="#2ECC71" filter="url(#softGlow)" />
            </svg>
        </div>

        <!-- Brand text -->
        <div class="brand-text">
            <h1 class="brand-name">
                <span class="brand-icon">ðŸŒ±</span>
                <span class="brand-word-h">Huerto</span><span class="brand-highlight">Connect</span>
            </h1>
            <div class="brand-line"></div>
            <p class="brand-tagline">
                <span class="tag-char" *ngFor="let char of taglineChars; let i = index"
                    [style.animation-delay]="(3 + i * 0.05) + 's'">{{char}}</span>
            </p>
        </div>

        <!-- Futuristic loading indicator -->
        <div class="loader-futuristic">
            <div class="loader-ring-container">
                <svg class="loader-ring-svg" viewBox="0 0 80 80">
                    <circle class="loader-ring-track" cx="40" cy="40" r="34" stroke="rgba(255,255,255,0.06)"
                        stroke-width="2" fill="none" />
                    <circle class="loader-ring-progress" cx="40" cy="40" r="34" stroke="#00D4A1" stroke-width="2.5"
                        fill="none" stroke-linecap="round" filter="url(#softGlow)" />
                </svg>
                <span class="loader-percent">{{loadPercent}}%</span>
            </div>
            <p class="loader-status">{{loadingText}}</p>
        </div>
    </div>
</div>